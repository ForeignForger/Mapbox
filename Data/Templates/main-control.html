<div class='main-control'>
	<div class='control-head'>
		<div class='toggle layer-toggle' data-bind='css: { shown: layers[mainLayer.layerId].IsLayerShown()}, click: showHideLayer.bind(null, $data, mainLayer.layerId)'></div>
		<span class='layer-name' data-bind='text: mainLayer.layerName, click: showHideLayerMenu.bind(null, $data, mainLayer.layerId), css: {active: layers[mainLayer.layerId].isLayerActive()}'></span>
	</div>
	<div class='control-body' data-bind='visible: layers[mainLayer.layerId].IsLayerShown() && layers[mainLayer.layerId].IsLayerMenuShown()'>
		<ul class='element-list' data-bind='foreach: mainLayer.elements'>
			<li class='element'>
				<div class='toggle element-toggle' data-bind='css: { shown:  $parent.layers[$parent.mainLayer.layerId].elements[elementId].IsElementShown() }, click: $parent.toggleElementFilter.bind(null, $parent, elementId, $parent.mainLayer.layerId)'></div>
				<span class='element-name' data-bind='text: elementName'></span>
			</li>
		</ul>
		<div class='layer-list' data-bind='foreach: mainLayer.childLayerObjects'>
			<div class='layer'>
				<div class='layer-head'>
					<div class='toggle layer-toggle' data-bind='css: { shown: $parent.layers[layerId].IsLayerShown() }, click: $parent.showHideLayer.bind(null, $parent, layerId)'></div>
					<span class='layer-name' data-bind='text: layerName, click: $parent.showHideLayerMenu.bind(null, $parent, layerId), css: {active:  $parent.layers[layerId].isLayerActive()}'></span>
				</div>
				<div class='layer-body' data-bind='visible: $parent.layers[layerId].IsLayerShown() && $parent.layers[layerId].IsLayerMenuShown()'>
					<ul class='child-layer-list' data-bind='foreach: childLayerObjects'>
						<li class='child-layer'>
							<div class='toggle layer-toggle' data-bind='css: { shown: $parents[1].layers[layerId].IsLayerShown() }, click: $parents[1].showHideLayer.bind(null, $parents[1], layerId)'></div>
							<span class='layer-name' data-bind='text: layerName'></span>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
</div>